{"remainingRequest":"/home/alpha/dev/go/src/WheyPal/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alpha/dev/go/src/WheyPal/frontend/src/views/SignIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alpha/dev/go/src/WheyPal/frontend/src/views/SignIn.vue","mtime":1604673594398},{"path":"/home/alpha/dev/go/src/WheyPal/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alpha/dev/go/src/WheyPal/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alpha/dev/go/src/WheyPal/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgewogIENhcmQsCiAgSW5wdXQsCiAgQnV0dG9uLAogIE1vZGFsCn0gZnJvbSAicmJjLXdtLWZyYW1ld29yay12dWVqcy9kaXN0L3dtL2NvbXBvbmVudHMiOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNpZ25JbiIsCiAgY29tcG9uZW50czogewogICAgY2FyZDogQ2FyZCwKICAgICJjdXN0b20taW5wdXQiOiBJbnB1dCwKICAgICJjdXN0b20tYnV0dG9uIjogQnV0dG9uLAogICAgbW9kYWw6IE1vZGFsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIG1vZGFsSXNPcGVuOiBmYWxzZSwKICAgICAgZXJyb3I6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgdXNlcklkOiBzdGF0ZSA9PiBzdGF0ZS53aGV5cGFsLnVzZXJJZCwKICAgICAgdXNlclRva2VuOiBzdGF0ZSA9PiBzdGF0ZS53aGV5cGFsLnVzZXJUb2tlbgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyJsb2dpblVzZXIiXSksCgogICAgYXN5bmMgc2lnbkluVXNlcigpIHsKICAgICAgdGhpcy5lcnJvciA9ICIiOwogICAgICBjb25zdCBib2R5ID0gewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKGJvZHkuZW1haWwpOwogICAgICBjb25zb2xlLmxvZyhib2R5LnBhc3N3b3JkKTsKICAgICAgaWYgKGJvZHkuZW1haWwgPT09ICIiIHx8IGJvZHkucGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICJDYW5ub3Qgc2lnbiBpbi4gUGxlYXNlIGVudGVyIGFsbCBjcmVkZW50aWFscy4iOwogICAgICAgIHRoaXMubW9kYWxJc09wZW4gPSAhdGhpcy5tb2RhbElzT3BlbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgdGhpcy5sb2dpblVzZXIoYm9keSk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rpc2NvdmVyIik7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdGhpcy5lcnJvciA9IGU7CiAgICAgICAgICB0aGlzLm1vZGFsSXNPcGVuID0gIXRoaXMubW9kYWxJc09wZW47CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["SignIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <modal\n          id=\"basicModal\"\n          :active=\"modalIsOpen\"\n          title=\"Error\"\n          :show-button=\"false\"\n          @toggle=\"modalIsOpen = false\"\n        >\n          <p>{{ this.error }}</p>\n        </modal>\n        <div class=\"row\">\n          <header class=\"col-md-4 ml-2\">\n            <h1 style=\"font-size: 4rem;\" class=\"mt-5\">WheyPal</h1>\n          </header>\n          <img class=\"col-md-6\" src=\"../assets/weights.png\" />\n        </div>\n        <!-- <hr class=\"bdr-dark-blue mb-5 mt-3\"> -->\n        <card>\n          <div slot=\"header\">\n            <h3>Sign in</h3>\n          </div>\n          <ul class=\"list-highlight\">\n            <li class=\"my-2\">\n              <custom-input\n                label=\"Email\"\n                placeholder=\"placeholder@placeholder.ca\"\n                v-model=\"email\"\n              ></custom-input>\n            </li>\n            <li class=\"my-2\">\n              <custom-input\n                v-model=\"password\"\n                label=\"Password\"\n                placeholder=\"Password\"\n              ></custom-input>\n            </li>\n          </ul>\n          <div slot=\"footer\">\n            <div class=\"row ml-1\">\n              <div class=\"col-md-4\">\n                <custom-button\n                  @click=\"signInUser()\"\n                  class=\"mb-1\"\n                  color=\"primary\"\n                >\n                  Sign in\n                </custom-button>\n                <br />\n                Forgot your password?\n                <br />\n                <router-link to=\"/\">\n                  <custom-button class=\"mt-1\" color=\"primary\" outline>\n                    Sucks\n                  </custom-button>\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport {\n  Card,\n  Input,\n  Button,\n  Modal\n} from \"rbc-wm-framework-vuejs/dist/wm/components\";\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  name: \"SignIn\",\n  components: {\n    card: Card,\n    \"custom-input\": Input,\n    \"custom-button\": Button,\n    modal: Modal\n  },\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      modalIsOpen: false,\n      error: \"\"\n    };\n  },\n  computed: {\n    ...mapState({\n      userId: state => state.wheypal.userId,\n      userToken: state => state.wheypal.userToken\n    })\n  },\n  methods: {\n    ...mapActions([\"loginUser\"]),\n\n    async signInUser() {\n      this.error = \"\";\n      const body = {\n        email: this.email,\n        password: this.password\n      };\n      console.log(body.email);\n      console.log(body.password);\n      if (body.email === \"\" || body.password === \"\") {\n        this.error = \"Cannot sign in. Please enter all credentials.\";\n        this.modalIsOpen = !this.modalIsOpen;\n      } else {\n        try {\n          await this.loginUser(body);\n          this.$router.push(\"/discover\");\n        } catch (e) {\n          this.error = e;\n          this.modalIsOpen = !this.modalIsOpen;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\nh1 {\n  font-size: 3.074rem;\n}\nh3 {\n  font-size: 2.074rem;\n}\n</style>\n"]}]}